name: Signup
steps:
  - action: "create"
    input: |
      {
        "type": "signup",
        "name": "default"
      }
    output:
      result: |
        {
          "action": {
            "type": "identify"
          }
        }

  - input: |
      {
        "identification": "email",
        "login_id": "signup@authgear.com"
      }
    output:
      result: |
        {
          "action": {
            "type": "verify"
          }
        }

  - input: |
      {
        "code": "111111"
      }
    output:
      result: |
        {
          "action": {
            "type": "create_authenticator"
          }
        }

  - input: |
      {
        "authentication": "primary_password",
        "new_password":   "password"
      }
    output:
      result: |
        {
          "action": {
            "type": "finished"
          }
        }
